eks/

‚îú‚îÄ‚îÄ backend.tf           
‚îú‚îÄ‚îÄ terraform.tf    
‚îú‚îÄ‚îÄ data.tf         
‚îú‚îÄ‚îÄ main.tf            
‚îú‚îÄ‚îÄ variables.tf       
‚îú‚îÄ‚îÄ outputs.tf       

##  üîπ –ü–æ—á–∏–Ω–∞—î–º–æ –∑ backend.tf
–ü–µ—Ä—à–∏–º –∫—Ä–æ–∫–æ–º —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ EKS-–∫–ª–∞—Å—Ç–µ—Ä–∞ –º–∏ –≤–∏–∑–Ω–∞—á–∞—î–º–æ, –¥–µ –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏—Å—è —Å—Ç–∞–Ω Terraform.
–î–ª—è —Ü—å–æ–≥–æ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ñ–∞–π–ª backend.tf, —É —è–∫–æ–º—É –Ω–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ –≤—ñ–¥–¥–∞–ª–µ–Ω–µ —Å—Ö–æ–≤–∏—â–µ —Å—Ç–∞–Ω—É –≤ S3:

## üîπ –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—à–∏—Ö —á–∞—Å—Ç–∏–Ω —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏ data.tf:

terraform_remote_state

–©–æ–± —Å—Ç–≤–æ—Ä–∏—Ç–∏ EKS-–∫–ª–∞—Å—Ç–µ—Ä, –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏, —É —è–∫—ñ–π VPC —ñ –≤ —è–∫–∏—Ö —Å–∞–±–Ω–µ—Ç–∞—Ö –π–æ–≥–æ –∑–∞–ø—É—Å–∫–∞—Ç–∏. –ê–ª–µ —Å–∞–º—É VPC –º–∏ –≤–∂–µ —Å—Ç–≤–æ—Ä–∏–ª–∏ —Ä–∞–Ω—ñ—à–µ ‚Äî —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Ç–µ–º—ñ.

–ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ —â–æ–± –¥—É–±–ª—é–≤–∞—Ç–∏ –∫–æ–¥ –∞–±–æ –≤—Ä—É—á–Ω—É –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∑–Ω–∞—á–µ–Ω–Ω—è, –º–∏ –º–æ–∂–µ–º–æ –ø—Ä–æ—Å—Ç–æ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—å –¥–æ –≤–∂–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ–≥–æ terraform.tfstate —Ñ–∞–π–ª—É, –¥–µ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤—Å—ñ output –∑ —Ç–æ–≥–æ –º–æ–¥—É–ª—è.

–¢—É—Ç –º–∏ –≤–∫–∞–∑—É—î–º–æ:

–¥–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è tfstate —Ñ–∞–π–ª—É –∑ VPC (bucket + key);
—É —è–∫–æ–º—É —Ä–µ–≥—ñ–æ–Ω—ñ —à—É–∫–∞—Ç–∏;
—á–µ—Ä–µ–∑ —è–∫–∏–π AWS-–ø—Ä–æ—Ñ—ñ–ª—å –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏—Å—å.

–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –º–∏ –º–æ–∂–µ–º–æ –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—å –¥–æ VPC —è–∫ –¥–æ ¬´–≤—ñ–¥–¥–∞–ª–µ–Ω–æ–≥–æ –º–æ–¥—É–ª—è¬ª:

        data.terraform_remote_state.vpc.outputs.vpc_id
        data.terraform_remote_state.vpc.outputs.public_subnets

–¶–µ –∑—Ä—É—á–Ω–æ, –±–æ –¥–∞—î –∑–º–æ–≥—É —Ä–æ–∑–¥—ñ–ª—è—Ç–∏ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ –ª–æ–≥—ñ—á–Ω—ñ –±–ª–æ–∫–∏, –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º–∏ –æ–∫—Ä–µ–º–æ, –∞–ª–µ –ª–µ–≥–∫–æ –ø–æ–≤‚Äô—è–∑—É–≤–∞—Ç–∏ —ó—Ö –º—ñ–∂ —Å–æ–±–æ—é.

## –ì–æ–ª–æ–≤–Ω–∏–π –±–ª–æ–∫ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è EKS: main.tf

–§–∞–π–ª main.tf ‚Äî —Ü–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–µ –º—ñ—Å—Ü–µ, –¥–µ –º–∏ –æ–≥–æ–ª–æ—à—É—î–º–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è EKS-–∫–ª–∞—Å—Ç–µ—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ—Ñ—ñ—Ü—ñ–π–Ω–æ–≥–æ Terraform-–º–æ–¥—É–ª—è –≤—ñ–¥ AWS.

–¢—É—Ç –æ–ø–∏—Å–∞–Ω–æ –≤—Å–µ, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –ø–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–∏–π Kubernetes-–∫–ª–∞—Å—Ç–µ—Ä —É —Ö–º–∞—Ä—ñ.