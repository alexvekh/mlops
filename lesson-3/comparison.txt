# Порівняння Docker образів ML-сервісу

## 1. Розмір образів
ml-fatetest: 20.54 GB
ml-slimtest: 11.14 GB

## 2. Кількість шарів
ml-fatetest: 20
ml-slimtest: 17

## 3. Присутність зайвих інструментів
- ml-fatetest:
  - Повні пакети для розробки та компіляції (git, mercurial, openssh, imagemagick, dev-бібліотеки)
  - Встановлення Python-бібліотек без обмежень
  - Великий розмір через системні та dev-залежності, які потрібні лише для збірки

- ml-slimtest:
  - Multi-stage build: на другому етапі лише необхідні файли та Python-залежності
  - Відсутні dev-пакети та зайві утиліти
  - Менший розмір та легше підтримувати

## 4. Пропозиції з подальшої оптимізації

Вже застосовано для оптимізації ml-slimtest
  - Slim-базовий образ (використовується python:3.9-slim).
  - Кешування пакетів pip (--no-cache-dir в pip install).
  - PyTorch cpu-only (у requirements.txt torch без +cu*).

Пропозиції з подальшої оптимізації
1. Видаляти тимчасові файли і документацію після інсталяцій (`rm -rf /var/lib/apt/lists/* /tmp/*`)
2. Об’єднати RUN команди, щоб зменшити кількість шарів
3. Для inference-only сервісу можна розглянути `FROM pytorch/pytorch:1.15-cpu` slim-образ (може значно зменшити розмір образу (скорочує 1–2 GB) і пришвидшити build)
